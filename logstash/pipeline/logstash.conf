input {
  file {
    path => "/var/tmp/log/BTC-USD.csv"
    start_position => "beginning"
    sincedb_path => "/dev/null"
  }
}
 
filter {
  csv {
      separator => ","
      columns => ["Date","Open","High","Low","Close","Adj Close","Volume"]
  }
  date {match => ["Date", "yyyy-MM-dd"]}
  mutate {convert => ["Open", "float"]}
  mutate {convert => ["High", "float"]}
  mutate {convert => ["Low", "float"]}
  mutate {convert => ["Close", "float"]}
  mutate {convert => ["Adj Close", "float"]}
  mutate {convert => ["Volume", "float"]}
}
 
output {
  elasticsearch {
    hosts => "elasticsearch:9200"
    manage_template => false
    index => "daily-finance-price"
  }
  stdout {}
}